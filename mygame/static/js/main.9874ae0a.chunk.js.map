{"version":3,"sources":["DevTool.js","../node_modules/@ionic/core/dist/esm-es5 lazy /^/.*/.entry/.js$/ groupOptions: {} namespace object","../node_modules/ionicons/dist/esm-es5 lazy /^/.*/.entry/.js$/ groupOptions: {} namespace object","scenes/Main.js","Game.js","App.js","PhoneLayout.js","index.js"],"names":["DevTool","object","data","pointers","pannel","mode","setTimeout","scene","coppyObjectData","makePointers","makePannel","emit","this","destroy","remove","x","y","originX","originY","scaleX","scaleY","scale","tint","alpha","evt","changeX","changeY","downX","downY","setX","startPosition","setY","property","value","setOrigin","circle","add","graphics","lineStyle","strokeCircle","moveTo","lineTo","strokePath","setInteractive","hitArea","Phaser","Geom","Circle","hitAreaCallback","Contains","draggable","cursor","on","angle","Math","atan2","worldY","worldX","PI","cameraControl","dontDrag","addDot","parent","parentContainer","container","setDepth","Vector2","makeCirclePointer","pointerY","makePointer","pointerX","setAngle","pointerXY","setScaleListeners","setOriginListeners","setTranslateListeners","map","Point","color","points","getPoints","pointer","fillStyle","fillPoints","strokePoints","Polygon","set","onTranslate","line","addAt","depth","clear","max","dot","fillCircle","off","div","document","createElement","body","appendChild","Object","assign","style","position","zIndex","left","top","padding","border","backgroundColor","display","alignItems","transform","window","innerWidth","addEventListener","stopPropagation","bounds","target","getBoundingClientRect","dataTransfer","setDragImage","Image","startX","pageX","startY","pageY","preventDefault","transformDiv","flexDirection","positionDiv","makePositionDiv","marginTop","originDiv","makeOriginDiv","scaleDiv","makeScaleDiv","angleDiv","makeAngleDiv","codeDiv","makeCodeDiv","newMode","setMode","width","cusror","makePropertyDiv","innerText","xPositionInput","makeInput","yPositionInput","originXInput","originYInput","xScaleInput","yScaleInput","scaleInput","angleInput","label","input","inputUpdate","Number","maxWidth","marginLeft","hidePointersButton","marginRight","closeButton","detach","textArea","rows","fontSize","callCode","code","eval","bind","key","ctrlKey","altKey","Events","EventEmitter","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","ids","id","keys","module","exports","Main","main","columns","lineWidth","game","squareWidth","height","numbers","playground","makePlayground","playgroundMask","createGeometryMask","canPlay","makePoints","values","c","push","r","number","makeNumber","text","fillRect","strokeRect","setPosition","row","column","distX","distY","abs","processDragUpEvent","activePointer","addToSide","side","tryAddNumber","sendNumbers","backOnPlace","redraw","fill","strokeCircleShape","fillCircleShape","targetRow","targetColumn","targetContainer","tweens","targets","duration","onComplete","containers","forEach","lastUpdate","toDestroy","length","destroyed","events","onUpdate","time","diff","active","fillEmptyPlaces","newColumns","emptySpaces","newColumn","i","ceil","random","setMask","index","addY","obj","ratio","mask","clearMask","checkNumbers","numbersToSend","lastValue","numbersWithLastValue","includes","Scene","isMobile","screen","documentElement","clientWidth","innerHeight","clientHeight","gameConfig","type","WEBGL","title","resolution","devicePixelRatio","mipmapFilter","disableContextMenu","audio","disableWebAudio","Game","app","canvas","devTool","PhaserGame","App","state","ref","React","Component","PhoneLayout","props","children","ReactDOM","render","justifyContent","getElementById"],"mappings":"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","file":"static/js/main.9874ae0a.chunk.js","sourcesContent":["import Phaser from 'phaser'\r\n\r\nexport default class DevTool extends Phaser.Events.EventEmitter {\r\n  constructor() {\r\n    super()\r\n    this.object = null\r\n    this.data = null\r\n    this.pointers = null\r\n    this.pannel = null\r\n    this.mode = null\r\n  }\r\n\r\n  attach(object) {\r\n    setTimeout(() => {\r\n      this.mode = 'translate'\r\n      this.object = object\r\n      this.scene = object.scene\r\n      this.data = this.coppyObjectData(object)\r\n      this.makePointers()\r\n      this.makePannel()\r\n      this.emit('pointerUpdate')\r\n    })\r\n  }\r\n\r\n\r\n  setMode(mode) {\r\n    if (mode !== this.mode) {\r\n      this.mode = mode\r\n      this.makePointers()\r\n      this.emit('setMode', mode)\r\n    }\r\n  }\r\n\r\n  detach() {\r\n    this.object = null\r\n    this.pointers && this.pointers.destroy()\r\n    delete this.pointers\r\n    this.pannel && this.pannel.remove()\r\n    delete this.pannel\r\n  }\r\n\r\n  coppyObjectData(object) {\r\n    const { x, y, originX, originY, scaleX, scaleY, scale, tint, alpha } = object\r\n    return { x, y, originX, originY, scaleX, scaleY, scale, tint, alpha }\r\n  }\r\n\r\n  onTranslate(evt, changeX, changeY) {\r\n    const x = evt.downX - evt.x\r\n    const y = evt.downY - evt.y\r\n    if (changeX) {\r\n      this.pointers.setX(this.pointers.startPosition.x - x)\r\n      this.object.setX(this.data.x - x)\r\n    }\r\n    if (changeY) {\r\n      this.pointers.setY(this.pointers.startPosition.y - y)\r\n      this.object.setY(this.data.y - y)\r\n    }\r\n  }\r\n\r\n  inputUpdate(property, value) {\r\n    this.object[property] = value\r\n    if (property === 'originX') {\r\n      this.object.setOrigin(value, this.object.originY)\r\n    } else if (property === 'originY') {\r\n      this.object.setOrigin(this.object.originX, value)\r\n    }\r\n    this.data = this.coppyObjectData(this.object)\r\n    this.makePointers()\r\n  }\r\n\r\n  makeCirclePointer() {\r\n    const circle = this.scene.add.graphics()\r\n      .lineStyle(2, 0xff0000)\r\n      .strokeCircle(0, 0, 75)\r\n      .moveTo(0, 0)\r\n      .lineTo(0, -75)\r\n      .strokePath()\r\n      .setInteractive({\r\n        hitArea: new Phaser.Geom.Circle(0, 0, 75),\r\n        hitAreaCallback: Phaser.Geom.Circle.Contains,\r\n        draggable: true,\r\n        cursor: 'pointer'\r\n      })\r\n      .on('dragend', () => {\r\n        this.data = this.coppyObjectData(this.object)\r\n      })\r\n      .on('drag', (evt) => {\r\n        const radians = Math.atan2((evt.worldY - this.pointers.startPosition.y), (evt.worldX - this.pointers.startPosition.x))\r\n        let angle = radians * 180 / Math.PI + 90\r\n        if (angle < 0) angle += 360\r\n        circle.angle = angle\r\n        this.object.angle = angle\r\n        this.emit('pointerUpdate')\r\n      })\r\n    circle.angle = this.object.angle\r\n\r\n    if (this.scene.cameraControl) {\r\n      circle.on('dragstart', () => this.scene.cameraControl.dontDrag())\r\n    }\r\n\r\n    this.pointers.add(circle)\r\n\r\n    this.addDot()\r\n  }\r\n\r\n  makePointers() {\r\n    if (this.mode === null) return\r\n\r\n    let x = this.object.x\r\n    let y = this.object.y\r\n\r\n    let parent = this.object.parentContainer\r\n    while (parent) {\r\n      x += parent.x\r\n      y += parent.y\r\n      parent = parent.parentContainer\r\n    }\r\n\r\n    this.pointers && this.pointers.destroy()\r\n\r\n    this.pointers = this.scene.add.container(x, y)\r\n      .setDepth(10000)\r\n    this.pointers.startPosition = new Phaser.Math.Vector2(x, y)\r\n\r\n    if (this.mode === 'angle') {\r\n      return this.makeCirclePointer()\r\n    }\r\n\r\n    const pointerY = this.makePointer(0xff0000)\r\n    this.pointers.add(pointerY)\r\n\r\n    const pointerX = this.makePointer(0x00ff00)\r\n      .setAngle(90)\r\n    this.pointers.add(pointerX)\r\n\r\n    const pointerXY = this.makePointer(0xffff00)\r\n      .setAngle(45)\r\n    this.pointers.add(pointerXY)\r\n    this.addDot()\r\n\r\n    switch (this.mode) {\r\n      case 'scale':\r\n        return this.setScaleListeners(pointerY, pointerX, pointerXY)\r\n      case 'origin':\r\n        return this.setOriginListeners(pointerY, pointerX, pointerXY)\r\n      default:\r\n        return this.setTranslateListeners(pointerY, pointerX, pointerXY)\r\n    }\r\n  }\r\n\r\n  getPoints() {\r\n    switch (this.mode) {\r\n      case 'scale':\r\n        return [[10, -50], [10, -70], [-10, -70], [-10, -50]].map(([x, y]) => new Phaser.Geom.Point(x, y))\r\n      case 'origin':\r\n        return [[10, -50], [10, -70], [-10, -70], [-10, -50]].map(([x, y]) => new Phaser.Geom.Point(x, y))\r\n      default:\r\n        return [[10, -50], [0, -65], [-10, -50]].map(([x, y]) => new Phaser.Geom.Point(x, y))\r\n    }\r\n  }\r\n\r\n  makePointer(color) {\r\n    const points = this.getPoints()\r\n    const pointer = this.scene.add.graphics()\r\n      .fillStyle(color)\r\n      .lineStyle(1, 0x000000)\r\n      .fillPoints(points, true, true)\r\n      .strokePoints(points, true, true)\r\n      .setInteractive({\r\n        hitArea: new Phaser.Geom.Polygon(points),\r\n        hitAreaCallback: Phaser.Geom.Polygon.Contains,\r\n        cursor: 'pointer',\r\n        draggable: true\r\n      })\r\n      .on('dragend', () => {\r\n        this.pointers.startPosition.set(this.pointers.x, this.pointers.y)\r\n        this.data = this.coppyObjectData(this.object)\r\n      })\r\n      .on('drag', () => setTimeout(() => this.emit('pointerUpdate')))\r\n\r\n    if (this.scene.cameraControl) {\r\n      pointer.on('dragstart', () => this.scene.cameraControl.dontDrag())\r\n    }\r\n    return pointer\r\n  }\r\n\r\n  setTranslateListeners(pointerY, pointerX, pointerXY) {\r\n    pointerY\r\n      .on('drag', evt => this.onTranslate(evt, false, true))\r\n      .on('dragstart', () => {\r\n        pointerY.line = this.scene.add.graphics()\r\n          .lineStyle(0.5, 0xffffff)\r\n          .moveTo(0, -1000)\r\n          .lineTo(0, 1000)\r\n          .strokePath()\r\n        this.pointers.addAt(pointerY.line, 0)\r\n      })\r\n      .on('dragend', () => pointerY.line.destroy())\r\n\r\n    pointerX\r\n      .on('drag', evt => this.onTranslate(evt, true, false))\r\n      .on('dragstart', () => {\r\n        pointerX.line = this.scene.add.graphics()\r\n          .lineStyle(0.5, 0xffffff)\r\n          .moveTo(-2000, 0)\r\n          .lineTo(2000, 0)\r\n          .strokePath()\r\n        this.pointers.addAt(pointerX.line, 0)\r\n      })\r\n      .on('dragend', () => pointerX.line.destroy())\r\n\r\n    pointerXY\r\n      .on('dragstart', () => {\r\n        pointerXY.line = this.scene.add.graphics()\r\n          .setDepth(this.pointers.depth - 1)\r\n      })\r\n      .on('drag', evt => {\r\n        this.onTranslate(evt, true, true)\r\n        pointerXY.line\r\n          .clear()\r\n          .lineStyle(0.5, 0xffffff)\r\n          .moveTo(this.pointers.startPosition.x, this.pointers.startPosition.y)\r\n          .lineTo(this.pointers.x, this.pointers.y)\r\n          .strokePath()\r\n      })\r\n      .on('dragend', () => pointerXY.line.destroy())\r\n  }\r\n\r\n  setScaleListeners(pointerY, pointerX, pointerXY) {\r\n    pointerY.scaleY = this.object.scaleY\r\n    pointerX.scaleY = this.object.scaleX\r\n    pointerXY.scaleY = this.object.scale\r\n\r\n    pointerY.on('drag', (evt) => {\r\n      const y = evt.downY - evt.y\r\n      this.object.scaleY = this.data.scaleY + y / 100\r\n      pointerY.scaleY = this.object.scaleY\r\n      pointerXY.scaleY = this.object.scale\r\n    })\r\n\r\n    pointerX.on('drag', (evt) => {\r\n      const x = evt.x - evt.downX\r\n      this.object.scaleX = this.data.scaleX + x / 100\r\n      pointerX.scaleY = this.object.scale\r\n      pointerXY.scaleY = this.object.scale\r\n    })\r\n\r\n    pointerXY.on('drag', evt => {\r\n      const x = evt.x - evt.downX\r\n      const y = evt.downY - evt.y\r\n      this.object.scale = this.data.scale + Math.max(x, y) / 100\r\n      pointerX.scaleY = this.object.scaleX\r\n      pointerY.scaleY = this.object.scaleY\r\n      pointerXY.scaleY = this.object.scale\r\n    })\r\n  }\r\n\r\n  setOriginListeners(pointerY, pointerX, pointerXY) {\r\n    pointerY.on('drag', (evt) => {\r\n      const y = evt.downY - evt.y\r\n      this.object.setOrigin(this.data.originX, this.data.originY + y / 300)\r\n    })\r\n\r\n    pointerX.on('drag', (evt) => {\r\n      const x = evt.downX - evt.x\r\n      this.object.setOrigin(this.data.originX + x / 300, this.data.originY)\r\n    })\r\n\r\n    pointerXY.on('drag', (evt) => {\r\n      const y = evt.downY - evt.y\r\n      const x = evt.downX - evt.x\r\n      this.object.setOrigin(this.data.originX + x / 300, this.data.originY + y / 300)\r\n    })\r\n  }\r\n\r\n  addDot() {\r\n    const dot = this.scene.add.graphics()\r\n      .fillStyle(0xffffff)\r\n      .lineStyle(1, 0x000000)\r\n      .fillCircle(0, 0, 5)\r\n      .strokeCircle(0, 0, 5)\r\n    this.pointers.add(dot)\r\n  }\r\n\r\n  makePannel() {\r\n    this.off('pointerUpdate')\r\n    this.off('setMode')\r\n\r\n    if (this.pannel) { this.pannel.remove() }\r\n\r\n    const div = document.createElement('div')\r\n    this.pannel = div\r\n    div.draggable = true\r\n    document.body.appendChild(div)\r\n\r\n    Object.assign(div.style, {\r\n      position: 'absolute',\r\n      zIndex: 100,\r\n      left: 0,\r\n      top: 0,\r\n      padding: '10px',\r\n      border: '1px solid black',\r\n      backgroundColor: 'silver',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      transform: `translate(${window.innerWidth * 0.6}px,${window.innerWidth * 0.1}px)`\r\n    })\r\n\r\n    div.addEventListener('mousedown', evt => evt.stopPropagation())\r\n    div.addEventListener('mouseup', evt => evt.stopPropagation())\r\n\r\n    div.addEventListener('dragstart', evt => {\r\n      const bounds = evt.target.getBoundingClientRect()\r\n      evt.dataTransfer.setDragImage(new Image(), 0, 0)\r\n      evt.target.startX = evt.pageX - bounds.left\r\n      evt.target.startY = evt.pageY - bounds.top\r\n    })\r\n\r\n\r\n    div.addEventListener('drag', evt => {\r\n      evt.preventDefault()\r\n      if (evt.pageX && evt.pageY) {\r\n        evt.target.style.transform = `translate(${evt.pageX - evt.target.startX}px, ${evt.pageY - evt.target.startY}px)`\r\n      }\r\n    })\r\n\r\n    const transformDiv = document.createElement('div')\r\n    Object.assign(transformDiv.style, {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    })\r\n    div.appendChild(transformDiv)\r\n\r\n    const positionDiv = this.makePositionDiv()\r\n    positionDiv.style.marginTop = '0px'\r\n    transformDiv.appendChild(positionDiv)\r\n\r\n    const originDiv = this.makeOriginDiv()\r\n    transformDiv.appendChild(originDiv)\r\n\r\n    const scaleDiv = this.makeScaleDiv()\r\n    transformDiv.appendChild(scaleDiv)\r\n\r\n    const angleDiv = this.makeAngleDiv()\r\n    transformDiv.appendChild(angleDiv)\r\n\r\n    const codeDiv = this.makeCodeDiv()\r\n    div.appendChild(codeDiv)\r\n  }\r\n\r\n  makePropertyDiv(mode) {\r\n    const div = document.createElement('div')\r\n    this.on('setMode', newMode => {\r\n      div.style.backgroundColor = mode === newMode ? '#f0ed30' : '#eeeeee'\r\n    })\r\n\r\n    div.addEventListener('click', () => {\r\n      this.setMode(mode)\r\n    })\r\n\r\n    Object.assign(div.style, {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      padding: '10px',\r\n      alignItems: 'center',\r\n      border: '1px solid black',\r\n      backgroundColor: this.mode === mode ? '#f0ed30' : '#eeeeee',\r\n      width: '200px',\r\n      marginTop: '10px',\r\n      cusror: 'pointer'\r\n    })\r\n    return div\r\n  }\r\n\r\n  makePositionDiv() {\r\n    const div = this.makePropertyDiv('translate')\r\n    div.innerText = 'Translate'\r\n\r\n    const xPositionInput = this.makeInput('x')\r\n    div.appendChild(xPositionInput)\r\n\r\n    const yPositionInput = this.makeInput('y')\r\n    div.appendChild(yPositionInput)\r\n\r\n    return div\r\n  }\r\n\r\n  makeOriginDiv() {\r\n    const div = this.makePropertyDiv('origin')\r\n    div.innerText = 'Origin'\r\n\r\n    const originXInput = this.makeInput('originX')\r\n    div.appendChild(originXInput)\r\n\r\n    const originYInput = this.makeInput('originY')\r\n    div.appendChild(originYInput)\r\n\r\n    return div\r\n  }\r\n\r\n\r\n  makeScaleDiv() {\r\n    const div = this.makePropertyDiv('scale')\r\n    div.innerText = 'Scale'\r\n\r\n    const xScaleInput = this.makeInput('scaleX')\r\n    div.appendChild(xScaleInput)\r\n\r\n    const yScaleInput = this.makeInput('scaleY')\r\n    div.appendChild(yScaleInput)\r\n\r\n    const scaleInput = this.makeInput('scale')\r\n    div.appendChild(scaleInput)\r\n\r\n    return div\r\n  }\r\n\r\n  makeAngleDiv() {\r\n    const div = this.makePropertyDiv('angle')\r\n    div.innerText = 'Angle'\r\n\r\n    const angleInput = this.makeInput('angle')\r\n    div.appendChild(angleInput)\r\n    return div\r\n  }\r\n\r\n  makeInput(property) {\r\n    const div = document.createElement('div')\r\n\r\n    Object.assign(div.style, {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      marginTop: '3px'\r\n    })\r\n\r\n    const label = document.createElement('p')\r\n    label.innerText = property + ': '\r\n\r\n    const input = document.createElement('input')\r\n    input.addEventListener('input', evt => this.inputUpdate(property, Number(evt.target.value)))\r\n    Object.assign(input.style, {\r\n      maxWidth: '100px',\r\n      marginLeft: '5px',\r\n      padding: '3px'\r\n    })\r\n    input.draggable = true\r\n    input.addEventListener('click', evt => {\r\n      evt.preventDefault()\r\n      evt.stopPropagation()\r\n    })\r\n    input.addEventListener('dragstart', evt => {\r\n      evt.preventDefault()\r\n      evt.stopPropagation()\r\n    })\r\n    input.addEventListener('drag', evt => {\r\n      evt.preventDefault()\r\n      evt.stopPropagation()\r\n    })\r\n\r\n\r\n    this.on('pointerUpdate', () => {\r\n      input.value = this.object[property]\r\n    })\r\n\r\n    div.input = input\r\n\r\n    div.appendChild(label)\r\n    div.appendChild(input)\r\n    return div\r\n  }\r\n\r\n  makeCodeDiv() {\r\n    const codeDiv = document.createElement('div')\r\n    Object.assign(codeDiv.style, {\r\n      width: '300px',\r\n      marginLeft: '15px',\r\n    })\r\n\r\n    const hidePointersButton = document.createElement('button')\r\n    hidePointersButton.innerText = 'hide pointers'\r\n    Object.assign(hidePointersButton.style, {\r\n      cursor: 'pointer',\r\n      marginRight: '10px'\r\n    })\r\n    hidePointersButton.addEventListener('click', () => {\r\n      if (this.pointers) {\r\n        this.pointers.destroy()\r\n        delete this.pointers\r\n      }\r\n      this.setMode(null)\r\n    })\r\n    codeDiv.appendChild(hidePointersButton)\r\n\r\n    const closeButton = document.createElement('button')\r\n    closeButton.innerText = 'close'\r\n    Object.assign(closeButton.style, {\r\n      cursor: 'pointer',\r\n    })\r\n    closeButton.addEventListener('click', () => this.detach())\r\n    codeDiv.appendChild(closeButton)\r\n\r\n    const textArea = document.createElement('textArea')\r\n    textArea.rows = 20\r\n    Object.assign(textArea.style, {\r\n      width: '100%',\r\n      padding: '10px',\r\n      fontSize: '16px'\r\n    })\r\n\r\n    const callCode = function callCode(code) {\r\n      Object.assign(this.object, this.data)\r\n      eval(code)\r\n    }.bind(this)\r\n\r\n    textArea.addEventListener('keydown', evt => {\r\n      if (evt.key === 'Enter' && (evt.ctrlKey || evt.altKey)) {\r\n        callCode(evt.target.value)\r\n      }\r\n    })\r\n    textArea.draggable = true\r\n    textArea.addEventListener('dragstart', evt => {\r\n      evt.preventDefault()\r\n      evt.stopPropagation()\r\n    })\r\n    textArea.addEventListener('drag', evt => {\r\n      evt.preventDefault()\r\n      evt.stopPropagation()\r\n    })\r\n\r\n    codeDiv.appendChild(textArea)\r\n    return codeDiv\r\n  }\r\n\r\n}","var map = {\n\t\"./ion-action-sheet.entry.js\": [\n\t\t53,\n\t\t5\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t54,\n\t\t6\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t55,\n\t\t7\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t56,\n\t\t17\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t57,\n\t\t18\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t58,\n\t\t44\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t59,\n\t\t19\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t60,\n\t\t20\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t61,\n\t\t21\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t62,\n\t\t22\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t63,\n\t\t45\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t64,\n\t\t10\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t65,\n\t\t23\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t66,\n\t\t46\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t67,\n\t\t47\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t68,\n\t\t24\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t69,\n\t\t25\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t70,\n\t\t26\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t71,\n\t\t27\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t72,\n\t\t28\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t73,\n\t\t8\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t74,\n\t\t14\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t75,\n\t\t9\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t76,\n\t\t29\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t77,\n\t\t30\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t78,\n\t\t31\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t79,\n\t\t11\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t80,\n\t\t16\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t81,\n\t\t48\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t82,\n\t\t32\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t83,\n\t\t33\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t84,\n\t\t34\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t85,\n\t\t35\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t86,\n\t\t49\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t87,\n\t\t13\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t88,\n\t\t50\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t89,\n\t\t36\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t90,\n\t\t15\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t91,\n\t\t37\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t92,\n\t\t38\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t93,\n\t\t39\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t94,\n\t\t12\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t95,\n\t\t51\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 48;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./ion-icon.entry.js\": [\n\t\t96,\n\t\t57\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 50;\nmodule.exports = webpackAsyncContext;","import Phaser, { Scene } from 'phaser'\r\n\r\nexport default class Main extends Scene {\r\n  constructor() {\r\n    super({ key: 'main' })\r\n    window.main = this\r\n  }\r\n\r\n  create() {\r\n    this.rows = 5\r\n    this.columns = 7\r\n    this.lineWidth = 5\r\n\r\n    this.width = this.game.scale.width\r\n    this.squareWidth = this.width / this.columns\r\n    this.height = this.squareWidth * this.rows\r\n\r\n    this.numbers = []\r\n    this.playground = this.makePlayground()\r\n    this.playgroundMask = this.playground.createGeometryMask()\r\n    this.canPlay = true\r\n    this.points = this.makePoints()\r\n\r\n    const values = [\r\n      [1, 1, 3, 4, 2, 3, 3],\r\n      [2, 1, 5, 5, 1, 2, 4],\r\n      [5, 3, 2, 5, 2, 2, 1],\r\n      [2, 1, 3, 2, 4, 3, 3],\r\n      [1, 2, 3, 4, 5, 1, 2],\r\n    ]\r\n\r\n\r\n    for (let c = 0; c < this.columns; c++) {\r\n      this.numbers.push([])\r\n      for (let r = 0; r < this.rows; r++) {\r\n        const number = this.makeNumber(r, c, values[r][c])\r\n        this.numbers[c].push(number)\r\n      }\r\n    }\r\n  }\r\n\r\n  makePoints() {\r\n    const text = this.add.text(this.width / 2, 50, 0, { fontSize: 100 })\r\n      .setOrigin(0.5)\r\n    text.value = 0\r\n    return text\r\n  }\r\n\r\n  makePlayground() {\r\n    return this.add.graphics()\r\n      .lineStyle(this.lineWidth, 0xffffff,)\r\n      .fillStyle(0x000000)\r\n      .fillRect(0, 0, this.game.scale.width, this.height + 2 * this.lineWidth)\r\n      .strokeRect(0, 0, this.game.scale.width, this.height + 2 * this.lineWidth)\r\n      .setPosition(0, this.game.scale.height / 2 - 50)\r\n  }\r\n\r\n  makeNumber(row, column, value) {\r\n    const circle = new Phaser.Geom.Circle(0, 0, 20)\r\n\r\n    const container = this.add.container()\r\n    container.value = value\r\n    container.startX = column * this.squareWidth + this.squareWidth / 2\r\n    container.startY = row * this.squareWidth + this.playground.y + this.squareWidth / 2\r\n    container.row = row\r\n    container.column = column\r\n\r\n    container\r\n      .setPosition(container.startX, container.startY)\r\n      .setInteractive({\r\n        hitArea: circle,\r\n        hitAreaCallback: Phaser.Geom.Circle.Contains,\r\n        draggable: true\r\n      })\r\n      .on('dragstart', () => {\r\n        container.setDepth(1)\r\n      })\r\n      .on('drag', pointer => {\r\n        if (!this.canPlay) { return }\r\n        const distX = pointer.x - container.startX\r\n        const distY = pointer.y - container.startY\r\n        if (Math.abs(distX) + Math.abs(distY) > 50) {\r\n          this.input.processDragUpEvent(this.input.activePointer)\r\n\r\n          const biggerValue = Math.abs(distX) >= Math.abs(distY) ? distX : distY\r\n          const addToSide = biggerValue >= 0 ? 1 : -1\r\n          const side = Math.abs(distX) >= Math.abs(distY) ? 'column' : 'row'\r\n\r\n          if (this.tryAddNumber(container, side, addToSide)) {\r\n            this.sendNumbers([container])\r\n          } else {\r\n            this.backOnPlace(container)\r\n          }\r\n\r\n        } else {\r\n          container.setPosition(pointer.x, pointer.y)\r\n        }\r\n      })\r\n      .on('dragend', (pointer) => {\r\n        const distX = pointer.x - container.startX\r\n        const distY = pointer.y - container.startY\r\n        if (Math.abs(distX) + Math.abs(distY) <= 50) {\r\n          this.backOnPlace(container)\r\n        }\r\n        container.setDepth(0)\r\n      })\r\n\r\n    const text = this.add.text(0, 0, container.value,)\r\n      .setOrigin(0.5)\r\n\r\n    const graphics = this.add.graphics()\r\n    graphics.redraw = (fill) => {\r\n      graphics\r\n        .clear()\r\n        .lineStyle(2, 0xffffff,)\r\n        .fillStyle(fill)\r\n        .strokeCircleShape(circle)\r\n        .fillCircleShape(circle)\r\n    }\r\n    graphics.redraw(0x000000)\r\n\r\n    container.text = text\r\n    container.graphics = graphics\r\n\r\n    container.add([graphics, text])\r\n    return container\r\n  }\r\n\r\n  tryAddNumber(container, side, value) {\r\n    const targetRow = container.row + (side === 'row' ? value : 0)\r\n    const targetColumn = container.column + (side === 'column' ? value : 0)\r\n    const targetContainer = this.numbers[targetColumn][targetRow]\r\n    if (!targetContainer) { return false }\r\n    if (container.value > targetContainer.value) { return false }\r\n\r\n    targetContainer.value += container.value\r\n    targetContainer.text.text = targetContainer.value\r\n    return true\r\n  }\r\n\r\n  backOnPlace(container) {\r\n    this.canPlay = false\r\n    this.tweens.add({\r\n      targets: container,\r\n      x: container.startX,\r\n      y: container.startY,\r\n      duration: 50,\r\n      onComplete: () => this.canPlay = true\r\n    })\r\n  }\r\n\r\n  sendNumbers(containers) {\r\n    this.canPlay = false\r\n    containers.forEach(container => {\r\n      container.graphics.redraw(0xff0000)\r\n      this.numbers[container.column][container.row] = null\r\n    })\r\n\r\n    let lastUpdate = null\r\n    const toDestroy = containers.length\r\n    let destroyed = 0\r\n\r\n    const onUpdate = time => {\r\n      if (!lastUpdate) { lastUpdate = time }\r\n      const diff = time - lastUpdate\r\n\r\n      containers.forEach(container => {\r\n        if (!container.active) { return }\r\n        container.y -= diff * 0.05\r\n        if (container.y < 20) {\r\n          container.destroy()\r\n          this.points.value += container.value\r\n          this.points.text = this.points.value\r\n          destroyed++\r\n        }\r\n      })\r\n\r\n      if (destroyed === toDestroy) {\r\n        this.fillEmptyPlaces()\r\n        this.events.off('update', onUpdate)\r\n      }\r\n    }\r\n    this.events.on('update', onUpdate)\r\n  }\r\n\r\n  fillEmptyPlaces() {\r\n    const newColumns = []\r\n    for (let c = 0; c < this.columns; c++) {\r\n      let emptySpaces = 0\r\n      for (let r = 0; r < this.rows; r++) {\r\n        if (this.numbers[c][r] === null) emptySpaces++\r\n      }\r\n      if (emptySpaces > 0) {\r\n        const newColumn = []\r\n        for (let i = 1; i <= emptySpaces; i++) {\r\n          const number = this.makeNumber(-i, c, Math.ceil(Math.random() * 5))\r\n          number.setMask(this.playgroundMask)\r\n          newColumn.push(number)\r\n        }\r\n        this.numbers[c].forEach(container => container && newColumn.push(container))\r\n\r\n        newColumn.forEach((container, index) => {\r\n          container.row = index\r\n          container.addY = index * this.squareWidth + this.playground.y + this.squareWidth / 2 - container.startY\r\n        })\r\n        this.numbers[c] = newColumn\r\n        newColumns.push(newColumn)\r\n      }\r\n    }\r\n\r\n    const obj = { ratio: 0 }\r\n\r\n    this.tweens.add({\r\n      targets: obj,\r\n      ratio: 1,\r\n      onUpdate: () => {\r\n        newColumns.forEach(column => {\r\n          column.forEach(container => {\r\n            container.y = container.startY + container.addY * obj.ratio\r\n          })\r\n        })\r\n      },\r\n      duration: 200,\r\n      onComplete: () => {\r\n        newColumns.forEach(column => {\r\n          column.forEach(container => {\r\n            container.startY = container.startY + container.addY * obj.ratio\r\n            container.mask && container.clearMask()\r\n          })\r\n        })\r\n        this.checkNumbers()\r\n      },\r\n    })\r\n  }\r\n\r\n  checkNumbers() {\r\n    const numbersToSend = []\r\n\r\n    for (let c = 0; c < this.columns; c++) {\r\n      let lastValue = null\r\n      let numbersWithLastValue = []\r\n      for (let r = 0; r < this.rows; r++) {\r\n        const container = this.numbers[c][r]\r\n        if (lastValue !== container.value) {\r\n          lastValue = container.value\r\n          numbersWithLastValue = [container]\r\n        } else {\r\n          numbersWithLastValue.push(container)\r\n          if (numbersWithLastValue.length > 2) {\r\n            numbersWithLastValue.forEach(c => {\r\n              if (!numbersToSend.includes(c)) {\r\n                numbersToSend.push(c)\r\n              }\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    for (let r = 0; r < this.rows; r++) {\r\n      let lastValue = null\r\n      let numbersWithLastValue = []\r\n      for (let c = 0; c < this.columns; c++) {\r\n        const container = this.numbers[c][r]\r\n        if (lastValue !== container.value) {\r\n          lastValue = container.value\r\n          numbersWithLastValue = [container]\r\n        } else {\r\n          numbersWithLastValue.push(container)\r\n          if (numbersWithLastValue.length > 2) {\r\n            numbersWithLastValue.forEach(c => {\r\n              if (!numbersToSend.includes(c)) {\r\n                numbersToSend.push(c)\r\n              }\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (numbersToSend.length) {\r\n      this.sendNumbers(numbersToSend)\r\n    } else {\r\n      this.canPlay = true\r\n    }\r\n  }\r\n\r\n}","import Phaser, { Game as PhaserGame } from 'phaser'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nimport Main from './scenes/Main'\r\nimport DevTool from './DevTool'\r\n\r\n\r\nconst width = isMobile ? Math.max(window.screen.width, window.innerWidth, document.documentElement.clientWidth) : 350\r\nconst height = isMobile ? Math.max(window.screen.height, window.innerHeight, document.documentElement.clientHeight) : 600\r\n\r\nconst gameConfig = {\r\n  type: Phaser.WEBGL,\r\n  title: 'Mygame',\r\n  resolution: window.devicePixelRatio,\r\n  mipmapFilter: 'LINEAR_MIPMAP_LINEAR',\r\n  disableContextMenu: true,\r\n  width,\r\n  height,\r\n  audio: {\r\n    disableWebAudio: isMobile ? true : false\r\n  },\r\n  scene: [\r\n    Main,\r\n  ],\r\n}\r\n\r\nclass Game extends PhaserGame {\r\n  constructor(app) {\r\n    gameConfig.canvas = app.canvas\r\n    super(gameConfig)\r\n    window.game = this\r\n    this.app = app\r\n    this.devTool = new DevTool()\r\n\r\n    this.isMobile = isMobile\r\n  }\r\n}\r\n\r\nexport default Game","import React from 'react'\r\n\r\nimport Game from './Game'\r\n\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.game = new Game(this)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <canvas ref={ref => this.canvas = ref} />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App","import React from 'react'\r\n\r\nconst height = 600\r\nconst width = 350\r\n\r\nconst PhoneLayout = props => {\r\n  return (\r\n    <>\r\n\r\n\r\n      <div\r\n        style={{ width, height, position: 'relative', backgroundColor: 'white' }}\r\n      >\r\n\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PhoneLayout","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { IonApp } from '@ionic/react'\n\nimport PhoneLayout from './PhoneLayout'\n\nimport { isMobile } from 'react-device-detect'\n\nReactDOM.render(\n  <IonApp>\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: '100vw',\n        height: '100vh',\n        position: 'absolute',\n        left: 0,\n        top: 0\n      }}>\n      {isMobile ?\n        <App />\n        :\n        <PhoneLayout>\n          <App />\n        </PhoneLayout>\n      }\n    </div>\n  </IonApp>,\n  document.getElementById('root')\n)"],"sourceRoot":""}